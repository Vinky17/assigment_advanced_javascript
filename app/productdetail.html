<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
  <link rel="stylesheet" href="./Css/style.css" />
</head>

<body>
  <div class="product__detail__container">
    <div class="container">
      <!-- Start Header -->
      <header>
        <div class="container">
          <div class="header-top">
            <a href="index.html" class="img-top">
              <img src="./Img/Kyle/Thiết kế không tên.png" alt="" /></a>
            <ul class="header-nav">
              <li><a href="index.html">Trang chủ</a></li>
              <li class="products-dropdown">
                <a href="product.html">Sản phẩm</a>
                <ul class="dropdown">
                  <!-- <li><a href="#">Áo</a></li>
                <li><a href="#">Váy</a></li>
                <li><a href="#">Đầm</a></li>
                <li><a href="#">Quần</a></li> -->
                </ul>
              </li>
              <li><a href="intro.html">Giới thiệu</a></li>
              <li><a href="form.html">Đăng nhập/Đăng ký</a></li>
              <li class="header-search">
                <a href="#" id="header-search">
                  <ion-icon name="search-outline"></ion-icon>
                </a>
                <div class="search-container">
                  <ul class="search-box">
                    <li class="search-item">
                      <divs class="search-form">
                        <div class="search-input">
                          <input id="search-input" type="text" placeholder="Tìm kiếm..." />
                        </div>
                        <div class="search-icon">
                          <a href="#" class="icon">
                            <ion-icon name="search-outline"></ion-icon>
                          </a>
                        </div>
                      </divs>
                    </li>
                  </ul>
                </div>
              </li>
              <li>
                <a href="cart.html">
                  <ion-icon name="cart-outline"></ion-icon>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </header>
      <!-- End header -->

      <!-- Responsive Header -->
      <div class="responsive-header">
        <div class="header-item">
          <a id="hamburger" href="#">
            <ion-icon name="menu-outline"></ion-icon>
          </a>
        </div>
        <div class="header-item header-top">
          <a href="index.html" class="img-top">
            <img src="./Img/Kyle/Thiết kế không tên.png" alt="" /></a>
        </div>
        <div class="header-item">
          <a href="cart.html">
            <ion-icon name="cart-outline"></ion-icon>
          </a>
        </div>
      </div>
      <!-- End Responsive Header -->

      <!-- Product detail -->
      <div class="product__detail__box">

      </div>
      <!-- End product detail -->
      <div class="tittle-main">
        <h3>Sản phẩm liên quan</h3>
      </div>
      <!-- Start inbox -->
      <div class="email-contact">
        <div class="container">
          <div class="contact-box">
            <div class="tittle-main">
              <h3>treat your inbox</h3>
            </div>
            <div class="email-box">
              <p>Nhập địa chỉ email của bạn để nhận được tin tức mới nhất</p>
              <form method="post">
                <input type="text" placeholder="Nhập email của bạn..." />
                <button class="btn btn-reg" type="submit">Đăng ký</button>
              </form>
            </div>
          </div>
        </div>
      </div>
      <!-- End inbox -->
    </div>
    <!-- Start footer -->
    <footer>
      <div class="container">
        <div class="footer-box">
          <div class="footer-item">
            <div class="footer-tittle">
              <h2>Thông tin</h2>
            </div>
            <ul class="link-widget">
              <li><a href="">Tìm kiếm</a></li>
              <li><a href="">Giới thiệu</a></li>
              <li><a href="">Hệ thống cửa hàng</a></li>
            </ul>
          </div>
          <div class="footer-item">
            <div class="footer-tittle">
              <h2>Sản phẩm</h2>
            </div>
            <ul class="link-widget">
              <li><a href="">Áo</a></li>
              <li><a href="">Váy</a></li>
              <li><a href="">Đầm</a></li>
              <li><a href="">Quần</a></li>
              <li><a href="">Best seller</a></li>
            </ul>
          </div>
          <div class="footer-item">
            <div class="footer-tittle">
              <h2>Chính sách</h2>
            </div>
            <ul class="link-widget">
              <li><a href="">Chính sách và quy định chung</a></li>
              <li><a href="">Hướng dẫn mua hàng</a></li>
              <li><a href="">Hướng dẫn thanh toán</a></li>
              <li><a href="">Chính sách vận chuyển</a></li>
              <li><a href="">Chính sách đổi hàng</a></li>
              <li><a href="">Chính sách bảo mật</a></li>
              <li><a href="">Kiểm tra đơn hàng</a></li>
            </ul>
          </div>
          <div class="footer-item">
            <div class="footer-tittle">
              <h2>Khác</h2>
            </div>
            <ul class="link-widget">
              <li><a href="">Blog</a></li>
              <li><a href="">Liên hệ</a></li>
              <li><a href="">Tuyển dụng</a></li>
            </ul>
          </div>
        </div>
        <!-- End foote-box -->
        <div class="footer-box">
          <div class="footer-item">
            <div class="footer-tittle">
              <img src="./Img/Kyle/Kyle-logos6.jpeg" alt="" />
            </div>
          </div>
          <div class="footer-item">
            <div class="footer-info">
              <div class="icon">
                <ion-icon name="home"></ion-icon>
              </div>
              <p>
                CÔNG TY TNHH WILEY Địa chỉ : 2252/22C Quốc lộ 1A, Tổ 1, Khu
                phố 1, P.Tân Chánh Hiệp, Quận 12 Copyright © 2002 Kyle
              </p>
            </div>
          </div>
          <div class="footer-item">
            <div class="footer-info">
              <div class="icon">
                <ion-icon name="mail"></ion-icon>
              </div>
              <p>levinhky1202@gmail.com</p>
            </div>
          </div>
          <div class="footer-item">
            <div class="footer-info">
              <div class="icon">
                <ion-icon name="call"></ion-icon>
              </div>
              <p>0989788749</p>
            </div>
          </div>
        </div>
        <!-- End footer-box -->
        <div class="footer-box">
          <div class="container">
            <div class="payments-image tittle-main">
              <img src="./Img/payment-icon.png" alt="" />
            </div>
            <div class="link-widget tittle-main footer-menu">
              <ul>
                <li><a href="">Tìm kiếm</a></li>
                <li><a href="">Giới thiệu</a></li>
                <li><a href="">Hệ thống cửa hàng</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </footer>
    <!-- End footer -->
    <div class="overlay">
      <div class="overlay-header-container">
        <div class="overlay-header-box">
          <ul id="menu-sidebar">
            <li>
              <form method="post" action="">
                <div class="search-small">
                  <input type="text" placeholder="Tìm kiếm..." />
                  <button>
                    <ion-icon name="search-outline"></ion-icon>
                  </button>
                </div>
              </form>
            </li>
            <li><a href="index.html">Trang chủ</a></li>
            <li>
              <a href="product.html">Sản phẩm </a><a id="mobile-dropdown">
                <ion-icon name="chevron-down-outline"></ion-icon>
              </a>
              <ul class="dropdown-responsive">
              </ul>
            </li>
            <li><a href="intro.html">Giới thiệu</a></li>
            <li><a href="form.html">Đăng nhập/Đăng ký</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="alert hide">
      <span class="fas fa-exclamation-circle"></span>
      <span class="msg">Thêm sản phẩm thành công!</span>
      <div class="close-btn">
        <ion-icon name="close-outline"></ion-icon>
      </div>
    </div>
    <!-- <p class="discount">720000vnđ</p> -->
  </div>
  <script src="./Js/categories-api.js"></script>
  <script>
    let productDetail = JSON.parse(localStorage.getItem("productDetail"));

    if (productDetail) {
      document.querySelector('.product__detail__box').innerHTML = `
      <!-- Box left -->
        <div class="product__detail__box__left">
          <img src="${productDetail.image}" alt="" />

          <div class="product__detail__review">
            <!-- Tab items -->
            <div class="product__detail__tabs tabs">
              <div class="product__detail__tab__item tab__item--active">
                <p>Hướng dẫn chọn size</p>
              </div>
              <div class="product__detail__tab__item">
                <p>Bình luận</p>
              </div>
              <div class="product__detail__tab__line"></div>
            </div>
            <!-- Tab contents -->
            <div class="product__detail__tabs">
              <div class="product__detail__tab__pane tab__pane--active">
                <div class="product__detail__table__size">
                  <table>
                    <tbody>
                      <tr>
                        <td>Size</td>
                        <td>Chiều cao(cm)</td>
                        <td>Cân nặng(kg)</td>
                        <td>Ngực(cm)</td>
                        <td>Eo(cm)</td>
                        <td>Mông(cm)</td>
                      </tr>
                      <tr style="background-color: #eee">
                        <td>S</td>
                        <td>150-155</td>
                        <td>-</td>
                        <td>78-81</td>
                        <td>60-62</td>
                        <td>86-88</td>
                      </tr>
                      <tr>
                        <td>M</td>
                        <td>150-160</td>
                        <td>50-52</td>
                        <td>82-84</td>
                        <td>64-66</td>
                        <td>90-92</td>
                      </tr>
                      <tr style="background-color: #eee">
                        <td>L</td>
                        <td>160-164</td>
                        <td>-</td>
                        <td>86-88</td>
                        <td>68-70</td>
                        <td>94-96</td>
                      </tr>
                      <tr>
                        <td>FREESIZE</td>
                        <td>-</td>
                        <td>
                          <60< /td>
                        <td>78-95</td>
                        <td>58-73</td>
                        <td>86-98</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <div class="product__detail__tab__pane">
                <!-- <p>Chưa có bình luận cho sản phẩm này</p> -->
                <form action="">
                  <input type="text" />
                  <button type="submit">Gửi</button>
                </form>
              </div>
            </div>
          </div>
        </div>

        <!-- Box right -->
        <div class="product__detail__box__right">
          <!-- Description -->
          <div class="product__detail__desc">
            <h2>${productDetail.name}</h2>
            <span class="small-line"></span>
            <div class="product__detail__price product-price">
              <p>${productDetail.price} vnđ</p>
            </div>
            <p class="status">Trạng thái: Còn hàng</p>
            <p class="description">Chưa có mô tả cho sản phẩm này</p>
            <div class="product__detail__actions">
              <div action="">
                <div class="product__detail__quantity">
                  <button>
                    <span>
                      <ion-icon name="remove-outline"></ion-icon>
                    </span>
                  </button>
                  <input type="text" value="1" class="count" />
                  <button>
                    <span>
                      <ion-icon name="add-outline"></ion-icon>
                    </span>
                  </button>
                </div>
                <div class="product__detail__add">
                  <button onclick="addToCart(${productDetail.id},'${productDetail.name}','${productDetail.image}',${productDetail.price})" class="btnAdd add-outline">
                    Thêm vào giỏ hàng
                  </button>
                </div>
              </div>
            </div>
            <div class="product__detail__code">
              <p>Mã sản phẩm:</p>
              <span>Kyl102</span>
            </div>
            <div class="product__detail__share">
              <p>Chia sẻ:</p>
              <ul class="product__detail__social">
                <li href="#">
                  <a>
                    <ion-icon name="logo-facebook"></ion-icon>
                  </a>
                </li>
                <li>
                  <a href="#">
                    <ion-icon name="logo-instagram"></ion-icon>
                  </a>
                </li>
                <li>
                  <a href="#">
                    <ion-icon name="logo-pinterest"></ion-icon>
                  </a>
                </li>
                <li>
                  <a href="#">
                    <ion-icon name="logo-twitter"></ion-icon>
                  </a>
                </li>
              </ul>
            </div>
          </div>
          <!-- End description -->
        </div>
      `;
    }

    // Thêm sản phẩm vào giỏ hàng
    document.querySelector('.close-btn').onclick = () => {
      alert.classList.remove('show');
      alert.classList.add('hide');
    }

    let alert = document.querySelector('.alert');

    function addToCart(id, name, image, price) {
      alert.classList.add('show');
      alert.classList.remove('hide');
      alert.classList.add('showAlert');

      setTimeout(function () {
        alert.classList.remove('show');
        alert.classList.add('hide')
      }, 100);

      let cart = JSON.parse(localStorage.getItem('cart'));
      if (cart == null) {
        cart = [];
        cart.push({ id, name, image, price, quatity: 1 });
      } else {
        let item = cart.find(product => product.id == id);
        item ? item.quatity++ : cart.push({ id, name, image, price, quatity: 1 });
      }
      localStorage.setItem('cart', JSON.stringify(cart));
    }

    // Product-detail review
    const tabs = document.querySelectorAll(".product__detail__tab__item");
    const panes = document.querySelectorAll(".product__detail__tab__pane");
    const line = document.querySelector(".product__detail__tab__line");
    const tabActive = document.querySelector(".tab__item--active");

    line.style.left = tabActive.offsetLeft + "px";
    line.style.width = tabActive.offsetWidth + "px";

    tabs.forEach((item, index) => {
      const pane = panes[index];
      item.addEventListener("click", function (e) {
        const currentTab = document.querySelector(" .tab__item--active");
        const currentPane = document.querySelector(" .tab__pane--active");
        currentTab.classList.remove("tab__item--active");
        currentPane.classList.remove("tab__pane--active");

        line.style.left = this.offsetLeft + "px";
        line.style.width = this.offsetWidth + "px";

        this.classList.add("tab__item--active");
        pane.classList.add("tab__pane--active");
      });
    });
  </script>
  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
</body>

</html>